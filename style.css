/* --- CONFIGURACIÓN GLOBAL Y SCROLL --- */
html {
    scroll-behavior: smooth;
    overflow-x: hidden;
    scrollbar-gutter: stable; /* Evita saltos de layout */
}

body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Color base claro para evitar parpadeos blancos en dark mode */
    background-color: #fcfaf7; 
    transition: background-color 0.7s ease;
}

.dark body {
    background-color: #1A1C1E;
}

/* --- CONTROL DE MENÚ HAMBURGUESA --- */
/* Solo se muestra en móvil (max-width: 768px) */
.mobile-menu-btn {
    display: none !important;
}

@media (max-width: 768px) {
    .mobile-menu-btn {
        display: block !important;
    }
}

/* --- ANIMACIONES NATIVAS DEL HERO (Sin dependencia de JS) --- */
@keyframes heroFadeIn {
    from { opacity: 0; transform: translateX(-40px); }
    to { opacity: 1; transform: translateX(0); }
}

@keyframes heroContentIn {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Aplicamos will-change para optimizar el renderizado de la GPU */
.animate-hero-fade-in {
    will-change: transform, opacity;
    animation: heroFadeIn 1.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-hero-content-in {
    opacity: 0;
    will-change: transform, opacity;
    animation: heroContentIn 1.4s cubic-bezier(0.16, 1, 0.3, 1) 0.3s forwards;
}

/* --- SISTEMA DE REVELADO (Intersection Observer) --- */
.reveal-box {
    opacity: 0;
    transform: translateY(30px);
    will-change: transform, opacity;
    transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1), 
                opacity 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal-box.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* --- ELEMENTOS DE FORMULARIO --- */
input, textarea {
    background-color: transparent !important;
    border-radius: 0;
    outline: none;
}

/* --- SCROLLBAR MINIMALISTA --- */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: #A5A58D; /* valle-clay */
    border-radius: 10px;
}

/* --- UTILIDADES Y RESPONSIVE --- */
.not-ready {
    transition: none !important;
}

@media (max-width: 768px) {
    .reveal-box {
        transition-duration: 800ms !important;
        transform: translateY(20px);
    }
}

/* Respetar preferencias de usuario de poco movimiento */
@media (prefers-reduced-motion: reduce) {
    .reveal-box, [class*="animate-hero"] {
        animation: none !important;
        transition: none !important;
        opacity: 1 !important;
        transform: none !important;
    }
}